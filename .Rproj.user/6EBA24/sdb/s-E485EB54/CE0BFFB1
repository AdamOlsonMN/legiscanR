{
    "contents" : "# Function to build a file structure object to get/build historical data\nfileStructure <- function(filepath) {\n  \n  # Move to location where historical data are stored\n  setwd(filepath)\n  \n  # Identify the directory path to each of the sessions\n  sessionRoot <- split(paste0(filepath, list.files(), \"/\"), list(list.files()))\n  \n  # Identify the different types of file classes\n  fileClass <- list(bills = \"bill/\", votes = \"vote/\", people = \"people/\")\n  \n  # Build a list object with the following structure:\n  # Object\n  # -----Session Name\n  # ----------File Class\n  # ---------------File Path\n  # ---------------File Name\n  fileList <- lapply(names(sessionRoot), FUN = function(x){\n    \n    # Store the file path/name in the object x which identifies the session\n    x <- lapply(fileClass, FUN = function(y){\n      \n      # Create a list object containing the file path and file name based on the\n      # file class type (e.g., bills, people, or voting records)\n      list(filePaths = paste0(sessionRoot[[x]], y),\n           fileNames = list.files(path = paste0(sessionRoot[[x]], y)))\n    })\n    \n  })\n  \n  # Assign names to the branches of the fileStructure object to identify the sessions\n  names(fileList) <- names(sessionRoot)\n  \n  # Remove objects no longer needed\n  rm(fileClass, sessionRoot)\n  \n  # Return the file structure object\n  return(fileList)\n  \n  # End function call\n}\n",
    "created" : 1418565078997.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1770688505",
    "id" : "CE0BFFB1",
    "lastKnownWriteTime" : 1418565148,
    "path" : "~/legiscanR/R/fileStructure.R",
    "project_path" : "R/fileStructure.R",
    "properties" : {
        "tempName" : "Untitled3"
    },
    "source_on_save" : false,
    "type" : "r_source"
}