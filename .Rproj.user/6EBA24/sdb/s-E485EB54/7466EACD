{
    "contents" : "# Load required libraries for all functions\nlibrary(\"XML\"); library(\"plyr\"); library(\"lubridate\"); library(\"dplyr\")\nlibrary(\"doMC\")\n\n# Register the number of available cores on the system\nregisterDoMC(cores = 6)\n\n# Load all of the functions needed to build the DB\nlapply(list(\"~/legiscanR/R/fileLists.R\", \n            \"~/legiscanR/R/fileStructure.R\", \n            \"~/legiscanR/R/legiscanBill.R\", \n            \"~/legiscanR/R/legiscanPerson.R\",\n            \"~/legiscanR/R/legiscanVotes.R\"), source)\n\n# Build a directory tree object for the file locations\ndirTree <- fileStructure(\"~/legiscanR/msHistorical/\")\n\n# Build a files object w/full path/name specified\nfiles <- fileLists(dirTree)\n\n# Create a peoples object to store all of the parsed\n# People directory data\npeople <- list()\nfor (i in names(files[[\"people\"]])) {\n  people[[i]] <- ldply(files[[\"people\"]][[i]], legiscanPerson, .parallel = TRUE, \n                       .paropts = list(.errorhandling = 'pass'))\n}\n\nrm(i)\n\n# Build a votes object to store all of the voting\n# data\nvotes <- list()\nfor (i in names(files[[\"votes\"]])) {\n  votes[[i]] <- llply(files[[\"votes\"]][[i]], legiscanVotes, .parallel = TRUE, \n                      .paropts = list(.errorhandling = 'pass'))\n}\n\nrm(i)\n\n\n# Save all of the objects to disk\nsave(list = c(\"dirTree\", \"files\", \"people\", \"votes\"), #\n     file = \"~/legiscanR/dbdata\")\n\n\n\n# Build a bills object to store all of the bill data\nbills <- list()\nfor (i in names(files[[\"bills\"]])) {\n  bills[[i]] <- llply(files[[\"bills\"]][[i]], legiscanBill, .parallel = TRUE, \n                      .paropts = list(.errorhandling = 'pass'))\n}\n\n# Save all of the objects to disk\nsave(list = c(\"dirTree\", \"files\", \"bills\", \"people\", \"votes\"), #\n     file = \"~/legiscanR/dbdata\")\n\n\nrm(i)\n",
    "created" : 1418565076980.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "931511640",
    "id" : "7466EACD",
    "lastKnownWriteTime" : 1418607006,
    "path" : "~/legiscanR/R/makeDB.R",
    "project_path" : "R/makeDB.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}